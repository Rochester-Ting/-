(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4d43542e"],{"9ac9":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h4",{staticClass:"mb-10 font-weight-bold text-dark"},[e._v("填写角色信息")]),r("el-form",{ref:"saveFrom",attrs:{model:e.formObj,"label-width":"120px",rules:e.formRules,disabled:!e.visible}},[r("el-row",[r("el-col",{staticStyle:{width:"400px"}},[r("el-form-item",{attrs:{label:"角色名称：",prop:"name"}},[r("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入内容"},model:{value:e.formObj.name,callback:function(t){e.$set(e.formObj,"name",t)},expression:"formObj.name"}})],1),r("el-form-item",{attrs:{label:"角色编码：",prop:"code"}},[r("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入内容",disabled:"update"==e.formAction},model:{value:e.formObj.code,callback:function(t){e.$set(e.formObj,"code",t)},expression:"formObj.code"}})],1),r("el-form-item",{attrs:{label:"类型：",prop:"type"}},[r("el-radio-group",{attrs:{size:"small"},model:{value:e.formObj.type,callback:function(t){e.$set(e.formObj,"type",t)},expression:"formObj.type"}},[r("el-radio-button",{attrs:{label:1}},[e._v("系统")]),r("el-radio-button",{attrs:{label:2}},[e._v("业务")])],1)],1),r("el-form-item",{attrs:{label:"描述："}},[r("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入内容"},model:{value:e.formObj.note,callback:function(t){e.$set(e.formObj,"note",t)},expression:"formObj.note"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"授权："}},[r("el-tree",{ref:"tree",attrs:{data:e.treeDataSource,props:e.defaultProps,"show-checkbox":"","node-key":"id","expand-on-click-node":!0},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.node,o=t.data;return r("span",{staticClass:"custom-tree-node"},[r("span",[r("span",{staticClass:"mr-3"},[r("i",{class:o.icon})]),r("span",{staticClass:"nav-text"},[e._v(e._s(a.label))])])])}}])})],1)],1)],1)],1),r("div",{directives:[{name:"show",rawName:"v-show",value:"none"!=e.formAction,expression:"formAction!='none'"}],staticClass:"border-top mt-5 pt-10"},[r("div",{staticStyle:{"text-align":"right"}},[r("el-button",{staticClass:"btn btn-secondary font-weight-bolder text-uppercase px-9 py-4 mr-2",on:{click:e.resetForm}},[e._v("取 消")]),r("el-button",{staticClass:"btn btn-primary font-weight-bolder text-uppercase px-9 py-4",attrs:{loading:e.submitLoading},on:{click:e.save}},[e._v("提 交")])],1)])],1)},o=[],n=(r("2397"),r("d4ec")),s=r("bee2"),c=r("262e"),i=r("99de"),l=r("7e84"),u=r("9ab4"),f=r("60a3"),d=r("65dd"),p=r("83f6"),b=r("2c69"),m=r("f86b");function h(e){var t=v();return function(){var r,a=Object(l["a"])(e);if(t){var o=Object(l["a"])(this).constructor;r=Reflect.construct(a,arguments,o)}else r=a.apply(this,arguments);return Object(i["a"])(this,r)}}function v(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var y=function(e){Object(c["a"])(r,e);var t=h(r);function r(){var e;return Object(n["a"])(this,r),e=t.apply(this,arguments),e.treeDataSource=[],e.reqFunctions={create:m["a"],update:m["e"]},e.defaultProps={children:"children",label:"title",icon:"icon"},e.formRules={name:[{required:!0,message:"请输入角色名称",trigger:"blur"}],code:[{required:!0,message:"请输入角色编码",trigger:"blur"}]},e}return Object(s["a"])(r,[{key:"mounted",value:function(){this.treeData()}},{key:"createdFormCallback",value:function(){var e=this.$refs["tree"];e.setCheckedKeys([])}},{key:"echoDataProcess",value:function(e){var t=this.$refs["tree"];Object(m["c"])(e.code).then((function(e){t.setCheckedKeys(e.data)}))}},{key:"submitDataProcess",value:function(e){var t=this.$refs["tree"];return e.permissionIds=t.getCheckedKeys(),e}},{key:"submitSuccess",value:function(e){this.backToPage(!0),this.handleClose(),this.createdFormCallback()}},{key:"resetForm",value:function(){this.buildCreatedForm(),this.visible=!1,this.formAction="none"}},{key:"treeData",value:function(){var e=this;Object(p["c"])().then((function(t){e.treeDataSource=Object(b["a"])(t.data,0,(function(e,t){switch(e.permission=t,e.type){case 1:e.icon="el-icon-copy-document";break;case 2:e.icon="el-icon-thumb";break}}))}))}}]),r}(Object(f["b"])(d["a"]));u["a"]([Object(f["c"])()],y.prototype,"title",void 0),u["a"]([Object(f["c"])({default:[]})],y.prototype,"orgTreeData",void 0),y=u["a"]([Object(f["a"])({components:{}})],y);var k=y,j=k,O=r("2877"),w=Object(O["a"])(j,a,o,!1,null,null,null);t["default"]=w.exports},f86b:function(e,t,r){"use strict";r.d(t,"d",(function(){return n})),r.d(t,"b",(function(){return s})),r.d(t,"a",(function(){return c})),r.d(t,"e",(function(){return i})),r.d(t,"c",(function(){return l}));var a=r("63a2"),o=new a["a"]({baseURL:"http://www.immvisa.com.cn:8084/",headers:{"Content-Type":"application/json;charset=utf-8"}});function n(){return o.get("/sysrole/select",{})}function s(e){return o.get("/sysrole/page",e)}function c(e){return o.post("/sysrole/",e)}function i(e){return o.post("/sysrole/updateInfo",e)}function l(e){return o.get("/sysrole/permission/code/"+e,{})}}}]);
//# sourceMappingURL=chunk-4d43542e.8b3321a5.js.map