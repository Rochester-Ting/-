{"version":3,"sources":["webpack:///./src/views/business/house/component/HouseSaveBaseInfo.vue?a069","webpack:///./src/views/business/house/component/HouseSaveBaseInfo.vue?ac30","webpack:///./src/views/business/house/component/HouseSaveBaseInfo.vue?c6ae","webpack:///./src/views/business/house/component/HouseSaveBaseInfo.vue?aeb7","webpack:///./src/views/business/house/component/HouseSaveBaseInfo.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","attrs","formObj","formRules","_v","staticStyle","optionsArea","on","changeSSQ","model","value","callback","$$v","$set","expression","events","longitude","latitude","center","plugin","loaded","_e","projectBuildingList","concat","buildingNo","maxFloor","floorRoomCount","status","scopedSlots","_u","key","fn","scope","row","_s","$event","stopPropagation","addBuildingInfoClick","delBuildingInfoClick","currentType","directives","name","rawName","Number","isDelete","initStopInfo","initSuccessInfo","handleExceed","handleRemove","uploadSuccess","uploadError","imgsUrl","baseUrl","slot","submitLoading","submitForm","staticRenderFns","Geocoder","ssq","address","area","city","province","brand","intro","phone","projectNo","community","waterPrice","electricityPrice","fileList","url","type","required","message","trigger","projectId","getProjectData","ls","get","id","res","code","data","giveImageUrlsAddDomian","ruleForm","$refs","validate","valid","console","log","length","requestSubmitPost","list","cb","item","children","child","findNode","$message","success","sessionStorage","setItem","$emit","error","msg","splice","$index","push","e","warning","file","response","err","district","$confirm","confirmButtonText","cancelButtonText","then","self","getLocation","label","result","geocodes","lnglat","location","lng","lat","$nextTick","catch","String","default","pName","init","o","enableHighAccuracy","timeout","maximumAge","convert","showButton","buttonPosition","showMarker","showCircle","panToLocation","zoomToAccuracy","extensions","getCurrentPosition","position","click","getAddress","info","regeocode","addressComponent","formattedAddress","components","component"],"mappings":"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","file":"js/chunk-733a3c05.5b277cd5.js","sourcesContent":["export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HouseSaveBaseInfo.vue?vue&type=style&index=0&id=7cfed321&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"house-page-save-base-info\"},[_c('el-form',{ref:\"ruleForm\",attrs:{\"model\":_vm.formObj,\"rules\":_vm.formRules,\"label-width\":\"100px\",\"label-position\":\"top\"}},[_c('h5',[_vm._v(\"房源地址\")]),_c('el-form-item',{attrs:{\"label\":\"省市区 \",\"prop\":\"ssq\"}},[_c('el-cascader',{staticStyle:{\"width\":\"400px\"},attrs:{\"options\":_vm.optionsArea},on:{\"change\":_vm.changeSSQ},model:{value:(_vm.formObj.ssq),callback:function ($$v) {_vm.$set(_vm.formObj, \"ssq\", $$v)},expression:\"formObj.ssq\"}})],1),_c('el-form-item',{attrs:{\"label\":\"项目地址 \",\"prop\":\"community\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入内容\"},model:{value:(_vm.formObj.community),callback:function ($$v) {_vm.$set(_vm.formObj, \"community\", $$v)},expression:\"formObj.community\"}})],1),_c('el-form-item',{attrs:{\"label\":\"地图标记 \",\"prop\":\"name\"}},[_c('div',{staticClass:\"amap-page-container\",staticStyle:{\"width\":\"100%\"}},[_c('el-amap',{staticStyle:{\"height\":\"300px\"},attrs:{\"events\":_vm.events,\"center\":_vm.formObj.longitude ? [_vm.formObj.longitude, _vm.formObj.latitude] : _vm.center,\"vid\":\"amap\",\"plugin\":_vm.plugin}},[_c('el-amap-marker',{attrs:{\"position\":_vm.formObj.longitude\n                ? [_vm.formObj.longitude, _vm.formObj.latitude]\n                : _vm.center}})],1),_c('div',{staticClass:\"toolbar\"},[(!_vm.loaded)?_c('span',[_vm._v(\"正在定位\")]):_vm._e()])],1)]),_c('el-divider'),_c('h5',[_vm._v(\"基本信息\")]),_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"项目编号 \",\"prop\":\"projectNo\"}},[_c('el-input',{staticStyle:{\"width\":\"200px\"},attrs:{\"placeholder\":\"请输入内容\"},model:{value:(_vm.formObj.projectNo),callback:function ($$v) {_vm.$set(_vm.formObj, \"projectNo\", $$v)},expression:\"formObj.projectNo\"}})],1)],1),_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"项目名称 \",\"prop\":\"name\"}},[_c('el-input',{staticStyle:{\"width\":\"250px\"},attrs:{\"placeholder\":\"请输入内容\"},model:{value:(_vm.formObj.name),callback:function ($$v) {_vm.$set(_vm.formObj, \"name\", $$v)},expression:\"formObj.name\"}})],1)],1)],1),_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"门店电话 \",\"prop\":\"phone\"}},[_c('el-input',{staticStyle:{\"width\":\"200px\"},attrs:{\"placeholder\":\"请输入内容\"},model:{value:(_vm.formObj.phone),callback:function ($$v) {_vm.$set(_vm.formObj, \"phone\", $$v)},expression:\"formObj.phone\"}})],1)],1),_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"品牌 \",\"prop\":\"brand\"}},[_c('el-input',{staticStyle:{\"width\":\"200px\"},attrs:{\"placeholder\":\"请输入内容\"},model:{value:(_vm.formObj.brand),callback:function ($$v) {_vm.$set(_vm.formObj, \"brand\", $$v)},expression:\"formObj.brand\"}})],1)],1)],1),_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"水费单价 \",\"prop\":\"waterPrice\"}},[_c('el-input',{staticStyle:{\"width\":\"100px\"},attrs:{\"placeholder\":\"请输入内容\"},model:{value:(_vm.formObj.waterPrice),callback:function ($$v) {_vm.$set(_vm.formObj, \"waterPrice\", $$v)},expression:\"formObj.waterPrice\"}}),_vm._v(\"\\n          元/m³\\n        \")],1)],1),_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"电费单价 \",\"prop\":\"electricityPrice\"}},[_c('el-input',{staticStyle:{\"width\":\"100px\"},attrs:{\"placeholder\":\"请输入内容\"},model:{value:(_vm.formObj.electricityPrice),callback:function ($$v) {_vm.$set(_vm.formObj, \"electricityPrice\", $$v)},expression:\"formObj.electricityPrice\"}}),_vm._v(\"\\n          元/度\\n        \")],1)],1)],1),_c('el-table',{staticStyle:{\"width\":\"100%\",\"margin-bottom\":\"30px\"},attrs:{\"data\":_vm.formObj.projectBuildingList.concat([\n          {\n            buildingNo: '',\n            maxFloor: '',\n            floorRoomCount: '',\n            status: -10000,\n          } ]),\"border\":true}},[_c('el-table-column',{attrs:{\"prop\":\"buildingNo\",\"label\":\"楼号\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.status === -10000)?_c('el-input',{attrs:{\"placeholder\":\"请输入楼号\"},model:{value:(scope.row.buildingNo),callback:function ($$v) {_vm.$set(scope.row, \"buildingNo\", $$v)},expression:\"scope.row.buildingNo\"}}):_c('div',[_vm._v(_vm._s(scope.row.buildingNo))])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"maxFloor\",\"label\":\"最高层数\",\"align\":\"right\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.status === -10000)?_c('el-input',{attrs:{\"placeholder\":\"请输入内容\"},model:{value:(scope.row.maxFloor),callback:function ($$v) {_vm.$set(scope.row, \"maxFloor\", $$v)},expression:\"scope.row.maxFloor\"}}):_c('div',[_vm._v(_vm._s(scope.row.maxFloor))])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"floorRoomCount\",\"label\":\"房间数\",\"align\":\"right\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.status === -10000)?_c('el-input',{attrs:{\"placeholder\":\"请输入内容\"},model:{value:(scope.row.floorRoomCount),callback:function ($$v) {_vm.$set(scope.row, \"floorRoomCount\", $$v)},expression:\"scope.row.floorRoomCount\"}}):_c('div',[_vm._v(_vm._s(scope.row.floorRoomCount))])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"floorRoomCount\",\"label\":\"操作\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"\\n              justify-content-center\\n              align-items-center\\n              house-save-operations\\n            \"},[(scope.row.status === -10000)?_c('span',{staticClass:\"btn btn-link\",on:{\"click\":function($event){$event.stopPropagation();_vm.addBuildingInfoClick(scope)}}},[_vm._v(\"添加\\n            \")]):_vm._e(),(scope.row.isDelete)?_c('div',{on:{\"click\":function($event){$event.stopPropagation();_vm.delBuildingInfoClick(scope)}}},[_c('el-link',{attrs:{\"type\":\"primary\"}},[_c('i',{staticClass:\"iconfont cursor-pointer el-icon-delete\"})])],1):_vm._e()]),(_vm.currentType === 'edit')?_c('div',{staticClass:\"\\n              justify-content-center\\n              align-items-center\\n              house-save-operations\\n            \"},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(Number(scope.row.status) === 1 && !scope.row.isDelete),expression:\"Number(scope.row.status) === 1 && !scope.row.isDelete\"}],staticClass:\"btn btn-link-danger\",on:{\"click\":function($event){$event.stopPropagation();_vm.initStopInfo(scope)}}},[_vm._v(\"停用\\n            \")]),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(Number(scope.row.status) === 0),expression:\"Number(scope.row.status) === 0\"}],staticClass:\"btn btn-link\",on:{\"click\":function($event){$event.stopPropagation();_vm.initSuccessInfo(scope)}}},[_vm._v(\"启用\\n            \")])]):_vm._e()]}}])})],1),_c('el-form-item',[_c('div',{staticClass:\"notice\"},[_vm._v(\"注意：楼号信息保存后不可修改！\")])]),_c('el-form-item',{attrs:{\"label\":\"项目图片：\",\"prop\":\"fileList\"}},[_c('el-upload',{staticClass:\"upload-demo\",attrs:{\"on-exceed\":_vm.handleExceed,\"on-remove\":_vm.handleRemove,\"on-success\":_vm.uploadSuccess,\"on-error\":_vm.uploadError,\"file-list\":_vm.imgsUrl,\"drag\":\"\",\"action\":_vm.baseUrl + 'sys/file/upload?type=image',\"multiple\":\"\",\"limit\":10,\"list-type\":\"picture\"}},[_c('i',{staticClass:\"el-icon-upload\"}),_c('div',{staticClass:\"el-upload__text\"},[_vm._v(\"\\n          将文件拖到此处，或\\n          \"),_c('em',[_vm._v(\"点击上传\")])]),_c('div',{staticClass:\"el-upload__tip\",attrs:{\"slot\":\"tip\"},slot:\"tip\"},[_vm._v(\"只能上传jpg/png文件\")])])],1),_c('el-form-item',{attrs:{\"label\":\"项目介绍\",\"prop\":\"intro\"}},[_c('el-input',{attrs:{\"type\":\"textarea\"},model:{value:(_vm.formObj.intro),callback:function ($$v) {_vm.$set(_vm.formObj, \"intro\", $$v)},expression:\"formObj.intro\"}})],1)],1),_c('div',{staticClass:\"border-top mt-5 pt-10\"},[_c('div',{staticStyle:{\"text-align\":\"right\"}},[_c('el-button',{staticClass:\"btn btn-primary font-weight-bolder text-uppercase px-9 py-4\",attrs:{\"loading\":_vm.submitLoading},on:{\"click\":function($event){_vm.submitForm('ruleForm')}}},[_vm._v(\"\\n        提 交\\n      \")])],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Prop, Vue } from 'vue-property-decorator'\r\nimport { regionData } from 'element-china-area-data'\r\nlet Geocoder: any = null\r\nimport './reset.scss'\r\nimport {\r\n  saveProjectRequest,\r\n  getProjectInfo\r\n} from '@/api/manage/sys/housePageApi'\r\n@Component({\r\n  data() {\r\n    const self = this\r\n    return {\r\n      plugin: [\r\n        {\r\n          pName: 'Geocoder', //使用AMap.Geocoder插件\r\n          events: {\r\n            init(o: any) {\r\n              Geocoder = o // o 则是AMap.Geocoder的实例 对外部的Geocoder变量进行赋值，在任何地方就都可以使用了\r\n              //self.center 具体坐标 （数组格式） ，function 回调函数\r\n              // Geocoder.getAddress(self.center, function (status, result) {\r\n              //   if (status === 'complete' && result.info === 'OK') {\r\n              //     console.log(\r\n              //         'result.regeocode.formattedAddress;',\r\n              //         result.regeocode.formattedAddress\r\n              //     )\r\n              //   }\r\n              // })\r\n            }\r\n          }\r\n        },\r\n        {\r\n          enableHighAccuracy: true, //是否使用高精度定位，默认:true\r\n          timeout: 1000, //超过10秒后停止定位，默认：无穷大\r\n          maximumAge: 0, //定位结果缓存0毫秒，默认：0\r\n          convert: true, //自动偏移坐标，偏移后的坐标为高德坐标，默认：true\r\n          showButton: true, //显示定位按钮，默认：true\r\n          buttonPosition: 'RB', //定位按钮停靠位置，默认：'LB'，左下角\r\n          showMarker: true, //定位成功后在定位到的位置显示点标记，默认：true\r\n          showCircle: true, //定位成功后用圆圈表示定位精度范围，默认：true\r\n          panToLocation: true, //定位成功后将定位到的位置作为地图中心点，默认：true\r\n          zoomToAccuracy: true, //定位成功后调整地图视野范围使定位位置及精度范围视野内可见，默认：f\r\n          extensions: 'all',\r\n          pName: 'Geolocation',\r\n          events: {\r\n            init(o: any) {\r\n              // @ts-ignore 是高德地图定位插件实例\r\n              if (!self.formObj.longitude || !self.formObj.latitude) {\r\n                o.getCurrentPosition(function(status: any, result: any) {\r\n                  if (result && result.position) {\r\n                    // @ts-ignore\r\n                    self.formObj.longitude = result.position.lng\r\n                    // @ts-ignore\r\n                    self.formObj.latitude = result.position.lat\r\n                    // @ts-ignore\r\n                    self.loaded = true\r\n                    self.$nextTick()\r\n                  }\r\n                })\r\n              }\r\n            }\r\n          }\r\n        }\r\n      ],\r\n      events: {\r\n        click(e: any) {\r\n          let { lng, lat } = e.lnglat\r\n          // @ts-ignore\r\n          self.formObj.longitude = lng\r\n          // @ts-ignore\r\n          self.formObj.latitude = lat\r\n          // 这里通过高德 SDK 完成。\r\n          if (!Geocoder) return\r\n          Geocoder.getAddress([lng, lat], function(status: any, result: any) {\r\n            if (status === 'complete' && result.info === 'OK') {\r\n              if (result && result.regeocode) {\r\n                console.log('result', result)\r\n                // @ts-ignore\r\n                self.formObj.ssq = [\r\n                  // @ts-ignore\r\n                  self.findNode(\r\n                    regionData,\r\n                    (item: any) =>\r\n                      item.label === result.regeocode.addressComponent.province\r\n                  ).value,\r\n                  // @ts-ignore\r\n                  self.findNode(\r\n                    regionData,\r\n                    (item: any) =>\r\n                      item.label === result.regeocode.addressComponent.city\r\n                  ).value,\r\n                  // @ts-ignore\r\n                  self.findNode(\r\n                    regionData,\r\n                    (item: any) =>\r\n                      item.label === result.regeocode.addressComponent.district\r\n                  ).value\r\n                ]\r\n                // @ts-ignore\r\n                self.formObj.community = result.regeocode.formattedAddress\r\n                self.$nextTick()\r\n              }\r\n            }\r\n          })\r\n        }\r\n      }\r\n    }\r\n  },\r\n  components: {}\r\n})\r\nexport default class HouseSaveBaseInfo extends Vue {\r\n  @Prop({ type: [Number, String], default: '' })\r\n  private projectId!: number | string\r\n  // 地址\r\n  private optionsArea: any = regionData\r\n  private loaded = false\r\n  // 表单数据\r\n  private formObj: any = {\r\n    ssq: [], // 省市区\r\n    address: '2222', // TODO-该字段被删除, 由于接口没删 用于测试\r\n    area: '', // 行政区\r\n    city: '', // 省份\r\n    province: '', // 省份\r\n    brand: '', // 品牌\r\n    intro: '', // 项目介绍\r\n    name: '', // 名字\r\n    phone: '', // 手机号\r\n    projectNo: '', // 项目编号\r\n    community: '', // 项目地址\r\n    waterPrice: '', // 水费单价\r\n    electricityPrice: '', // 电费单价\r\n    projectBuildingList: [\r\n\r\n    ],\r\n    fileList: [\r\n      {\r\n        url: ''\r\n      }\r\n    ], // 上传照片的url\r\n    status: 0, // status\r\n    latitude: '', // 精度\r\n    longitude: '' // 纬度\r\n  }\r\n  private center = [121.59996, 31.197646]\r\n  // 处理本地图片列表\r\n  private imgsUrl: any[] = []\r\n  // 提交loading\r\n  private submitLoading = false\r\n  // 表单提交规则\r\n  private formRules = {\r\n    ssq: [\r\n      {\r\n        type: 'array',\r\n        required: true,\r\n        message: '请选择省市区',\r\n        trigger: 'change'\r\n      }\r\n    ],\r\n    brand: [\r\n      {\r\n        required: true,\r\n        message: '请输入品牌',\r\n        trigger: 'change'\r\n      }\r\n    ],\r\n    waterPrice: [\r\n      {\r\n        required: true,\r\n        message: '请输入水费',\r\n        trigger: 'change'\r\n      }\r\n    ],\r\n    electricityPrice: [\r\n      {\r\n        required: true,\r\n        message: '请输入电费',\r\n        trigger: 'change'\r\n      }\r\n    ],\r\n    intro: [\r\n      {\r\n        required: true,\r\n        message: '请输入项目介绍',\r\n        trigger: 'change'\r\n      }\r\n    ],\r\n    name: [\r\n      {\r\n        required: true,\r\n        message: '请输入项目名称',\r\n        trigger: 'change'\r\n      }\r\n    ],\r\n    phone: [\r\n      {\r\n        required: true,\r\n        message: '请输入门店电话',\r\n        trigger: 'change'\r\n      }\r\n    ],\r\n    projectNo: [\r\n      {\r\n        required: true,\r\n        message: '请输入项目编号',\r\n        trigger: 'change'\r\n      }\r\n    ],\r\n    community: [\r\n      {\r\n        required: true,\r\n        message: '请输入项目地址',\r\n        trigger: 'change'\r\n      }\r\n    ],\r\n    buildingNo: {\r\n      required: true,\r\n      message: '楼号不能为空',\r\n      trigger: 'change'\r\n    },\r\n    maxFloor: {\r\n      required: true,\r\n      message: '楼层不能为空',\r\n      trigger: 'change'\r\n    },\r\n    floorRoomCount: {\r\n      required: true,\r\n      message: '每层房间数不能为空',\r\n      trigger: 'change'\r\n    },\r\n    fileList: {\r\n      required: true\r\n    }\r\n  }\r\n  public mounted() {\r\n    if (this.projectId) {\r\n      this.getProjectData()\r\n    }\r\n  }\r\n  /**\r\n   * @Author roct\r\n   * @Description   获取当前页面是否是edit\r\n   **/\r\n  get currentType() {\r\n    return Vue.ls.get('/house/save').type\r\n  }\r\n  /**\r\n   * @Author roct\r\n   * @Description 获取项目详情\r\n   * @Date 20:40 2021/4/24 0024\r\n   **/\r\n  private async getProjectData() {\r\n    const res = await getProjectInfo({ id: this.projectId })\r\n    if (res.code === 200) {\r\n      this.imgsUrl = res.data.fileList\r\n      this.giveImageUrlsAddDomian()\r\n      this.formObj = res.data\r\n      this.formObj.ssq = [res.data.province, res.data.city, res.data.area]\r\n    }\r\n  }\r\n  /**\r\n   * @Author roct\r\n   * @Description 点击提交按钮\r\n   * @Date 22:43 2021/4/16 0016\r\n   **/\r\n  private submitForm(ruleForm: string) {\r\n    //@ts-ignore\r\n    this.$refs[ruleForm].validate(valid => {\r\n      if (valid) {\r\n        if (\r\n          this.formObj.fileList.length === 1 &&\r\n          !this.formObj.fileList[0].url\r\n        ) {\r\n          this.formObj.fileList = []\r\n        }\r\n        this.requestSubmitPost()\r\n      } else {\r\n        console.log('error submit!!')\r\n        return false\r\n      }\r\n    })\r\n  }\r\n  /**\r\n   * @Author roct\r\n   * @Description re\r\n   * @Date 16:21 2021/5/30 0030\r\n   * @params\r\n   * @return\r\n   **/\r\n  private findNode(list: any[], cb: Function) {\r\n    for (const item of list) {\r\n      if (cb(item)) return item\r\n      if (item.children) {\r\n        const child: any = this.findNode(item.children, cb)\r\n        if (child) return child\r\n      }\r\n    }\r\n    return null\r\n  }\r\n  /**\r\n   * @Author roct\r\n   * @Description 发请求\r\n   * @Date 23:12 2021/4/16 0016\r\n   **/\r\n  private async requestSubmitPost() {\r\n    // TODO- 待优化\r\n    this.submitLoading = true\r\n    if (this.formObj.ssq.length > 0) {\r\n      this.formObj.province = this.formObj.ssq[0]\r\n      if (this.formObj.ssq.length > 1) {\r\n        this.formObj.city = this.formObj.ssq[1]\r\n      }\r\n      if (this.formObj.ssq.length > 2) {\r\n        this.formObj.area = this.formObj.ssq[2]\r\n      }\r\n    }\r\n    try {\r\n      const res = await saveProjectRequest(this.formObj)\r\n      if (res.code === 200) {\r\n        this.$message.success('保存成功')\r\n        sessionStorage.setItem('canStep', '1')\r\n        this.submitLoading = false\r\n        if (this.currentType === 'edit') {\r\n          return \r\n        }\r\n        this.$emit('nextStep', 2, res.data)\r\n      } else {\r\n        this.$message.error(res.msg)\r\n      }\r\n      this.submitLoading = false\r\n    } catch (e) {\r\n      this.$message.error(e.msg)\r\n      this.submitLoading = false\r\n    }\r\n  }\r\n  /**\r\n   * @Author roct\r\n   * @Description   删除楼栋楼号等信息\r\n   * @Date 22:42 2021/4/16 0016\r\n   **/\r\n  private delBuildingInfoClick(scope: any) {\r\n\r\n      this.formObj.projectBuildingList.splice(scope.$index, 1)\r\n    \r\n  }\r\n  /**\r\n   * @Author roct\r\n   * @Description 增加楼栋/楼号等信息\r\n   * @Date 22:43 2021/4/16 0016\r\n   **/\r\n  private addBuildingInfoClick(scope: any) {\r\n      this.formObj.projectBuildingList.push({\r\n        // 楼的信息\r\n        buildingNo: scope.row.buildingNo,\r\n        maxFloor: scope.row.maxFloor,\r\n        floorRoomCount: scope.row.floorRoomCount,\r\n        status: 1,\r\n        isDelete: true,\r\n      })\r\n    \r\n  }\r\n  /**\r\n   * 停止楼栋信息\r\n   */\r\n  private initStopInfo(scope:any) {\r\n    if (this.currentType === 'edit') {\r\n      this.formObj.projectBuildingList[scope.$index].status = '0'\r\n    }\r\n  }\r\n  /**\r\n   * 启用楼栋信息\r\n   */\r\n  private initSuccessInfo(scope: any) {\r\n    if (this.currentType === 'edit') {\r\n      this.formObj.projectBuildingList[scope.$index].status = '1'\r\n    }\r\n  }\r\n  // 获取上传接口的域名\r\n  get baseUrl() {\r\n    return process.env.VUE_APP_URL\r\n  }\r\n  /**\r\n   * @Author roct\r\n   * @Description 给图片列表增加域名\r\n   * @Date 14:26 2021/4/18 0018\r\n   **/\r\n  private giveImageUrlsAddDomian() {\r\n    for (const item of this.imgsUrl) {\r\n      item.url = 'http://sayhi-room.oss-cn-qingdao.aliyuncs.com/' + item.url\r\n    }\r\n  }\r\n  /**\r\n   * 上传图片出错\r\n   */\r\n  private handleExceed(e: any) {\r\n    console.log(e)\r\n    this.$message.warning('上传图片超出数量')\r\n  }\r\n  /**\r\n   * 移除照片\r\n   */\r\n  private handleRemove(file: any, fileList: any[]) {\r\n    this.formObj.fileList = []\r\n    for (const item of fileList) {\r\n      this.formObj.fileList.push({\r\n        url: item.response.data\r\n      })\r\n    }\r\n  }\r\n  /**\r\n   * 上传成功\r\n   */\r\n  private uploadSuccess(response: any, file: any, fileList: any[]) {\r\n    if (\r\n      this.formObj.fileList.length === 1 &&\r\n      this.formObj.fileList[0].url === ''\r\n    ) {\r\n      this.formObj.fileList = []\r\n    }\r\n    this.formObj.fileList.push({\r\n      url: file.response.data\r\n    })\r\n    console.log('imgrurl', this.imgsUrl)\r\n  }\r\n\r\n  private uploadError(err: any, file: any, fileList: any) {\r\n    this.$message.error('上传出错, 请删除后继续')\r\n  }\r\n  // 省市区改变\r\n  private changeSSQ(value: any) {\r\n    const province = this.findNode(\r\n      regionData,\r\n      (item: any) => item.value === value[0]\r\n    )\r\n    const city = this.findNode(\r\n      regionData,\r\n      (item: any) => item.value === value[1]\r\n    )\r\n    const district = this.findNode(\r\n      regionData,\r\n      (item: any) => item.value === value[2]\r\n    )\r\n    if (Geocoder) {\r\n      this.$confirm('是否将地图切换到选择的省市区?', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      })\r\n        .then(() => {\r\n          const self = this\r\n          Geocoder.getLocation(\r\n            province.label + city.label + district.label,\r\n            (status: any, result: any) => {\r\n              if (status === 'complete' && result.geocodes.length) {\r\n                const lnglat = result.geocodes[0].location\r\n                self.formObj.longitude = lnglat.lng\r\n                self.formObj.latitude = lnglat.lat\r\n                self.center = [lnglat.lng, lnglat.lat]\r\n                self.$nextTick()\r\n              }\r\n            }\r\n          )\r\n        })\r\n        .catch(() => {})\r\n    }\r\n  }\r\n}\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HouseSaveBaseInfo.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HouseSaveBaseInfo.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./HouseSaveBaseInfo.vue?vue&type=template&id=7cfed321&scoped=true&\"\nimport script from \"./HouseSaveBaseInfo.vue?vue&type=script&lang=ts&\"\nexport * from \"./HouseSaveBaseInfo.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./HouseSaveBaseInfo.vue?vue&type=style&index=0&id=7cfed321&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7cfed321\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}